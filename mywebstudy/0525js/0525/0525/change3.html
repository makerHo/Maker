<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		#pic{
			display: none;
		}
	</style>
</head>
<body>
<input type="file" id="pic">
<label for="pic">上传头像</label>
<br>
<img src="" id="preview">
<script type="text/javascript">
	var pic=document.querySelector("#pic");
	var preview=document.querySelector("#preview");
	var fr=new FileReader();
	//console.log(fr);
	pic.addEventListener("change",function(){
		//this.files：上传的文件，数组类型
		//this.files[0]:上传的第一个文件；
		//console.log(this.files[0]);
		//this.files[0]：上传的文件
		//readAsDataURL:把上传的文件作为DataURL数据读取
		//保存到fr中。
		fr.readAsDataURL(this.files[0]);
		fr.addEventListener("loadend",function(){
			//this.result:fr保存的上传文件数据
			preview.src=this.result;
			console.log(this.result);
		});
	});
</script>
</body>
</html>